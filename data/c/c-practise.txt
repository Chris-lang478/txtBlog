C 语言100题

========================================
题目来源
----------------------------------------
https://www.runoob.com/cprogramming/c-100-examples.html



========================================
基本的条件/循环语句、逻辑运算、数据类型、输入输出
(n=10)
----------------------------------------
我在 Ubuntu 环境做的测试，输出字符、图案的效果都不好。


1.题目：有1、2、3、4个数字，能组成多少个互不相同且无重复数字的三位数？都是多少？
难度：*

$ cat p01.c
#include<stdio.h>
int main(){
	int i,j,z, counter=1;
	for(i=1; i<5; i++){
		for(j=1; j<5; j++){
			for(z=1; z<5; z++){
				if(i!=j && i!=z && j!=z){
					printf("%d %d%d%d\n", counter++, i,j,z);
				}
			}
		}
	}
	return 0;
}

# 共24个。


优化后，提前结束一下不必要的循环。
$ cat p01-v2.c 
#include<stdio.h>
int main(){
	int i,j,z, counter=1;
	for(i=1; i<5; i++){
		for(j=1; j<5; j++){
			if(i==j) continue;
			for(z=1; z<5; z++){
				if(i==z || j==z) continue;
				printf("%d %d%d%d\n", counter++, i,j,z);
			}
		}
	}
	return 0;
}









2. 题目：企业发放的奖金根据利润提成。

利润(I)低于或等于10万元时，奖金可提10%；
利润高于10万元，低于20万元时，低于10万元的部分按10%提成，高于10万元的部分，可提成7.5%；
20万到40万之间时，高于20万元的部分，可提成5%；
40万到60万之间时高于40万元的部分，可提成3%；
60万到100万之间时，高于60万元的部分，可提成1.5%；
高于100万元时，超过100万元的部分按1%提成。
从键盘输入当月利润I，求应发放奖金总数？

程序分析：请利用数轴来分界，定位。注意定义时需把奖金定义成长整型。

难度：***

重点：从命令行获取参数； 字符串变数字/浮点数

测试功能
$ cat p02-v0.c 
#include<stdio.h>
#include<stdlib.h>
int main(int argc, char *argv[]){
        if(argc<2){
                printf("You must provide a long int!\n");
                return 1;
        }
        for(int i=0; i<argc; i++){
                printf("argv[%d]=%s\n", i, argv[i]);
        }
        long total=atol(argv[1]);
        //long total=argv[1];
        printf("you input:%ld\n", total);
}

$ ./a.out 500 600
argv[0]=./a.out
argv[1]=500
argv[2]=600
you input:500



正式版
$ cat p02.c 
#include<stdio.h>
#include<stdlib.h>
#define WAN 10000

int main(int argc, char *argv[]){
	if(argc<2){
		printf("You must provide a long int!\n");
		return 1;
	}

	// 接收第一个参数，并字符串转为长整数
	double  total=atof(argv[1]);
	printf("Your sales is %lf\n", total);
	
	// 实际上，浮点数才够用
	double bonus=0;
	total /= WAN;
	double  x1=10*0.1,
		x2=(total-10)*0.075,
		x3=(total-20)*0.05,
		x4=(total-40)*0.03,
		x5=(total-60)*0.015,
		x6=(total-100)*0.01;
	
	if(total<=10){
		bonus+= total*0.1;
	}else if(total>10 && total <=20){
		bonus += x1+x2;
	}else if(total>20 && total <=40){
		bonus += x1+x2+x3;
	}else if(total>40 && total <=60){
		bonus += x1+x2+x3+x4;
	}else if(total>60 && total <=100){
		bonus += x1+x2+x3+x4+x5;
	}else{
		bonus += x1+x2+x3+x4+x5+x6;
	}
	printf("Your bonus is %lf\n", bonus*WAN );
	return 0;
}


$ ./a.out 120000
Your sales is 120000.000000
Your bonus is 11500.000000






3.题目：一个整数，它加上100后是一个完全平方数，再加上168又是一个完全平方数，请问该数是多少？
难度：****

完全平方指用一个整数乘以自己例如1*1，2*2，3*3等，依此类推。若一个数能表示成某个整数的平方的形式，则称这个数为完全平方数。

提示：这个题目很典型，分析占了至少一半时间，剩下的才是编程实现。

分析：
x+100 = p*p
x+100+168 = t*t
求 x?

两边分别相减后 t*t-p*p=168
(t-p)(t+p)=168
设x,y是168的因子，则 x=t-p, y=t+p, x*y=168, 得 t=(x+y)/2, p=(y-x)/2
对168做因式分解 168=2*2*2*3*7
x和y要么都是偶数，要么都是奇数。后者不可能，则x,y都是偶数。
	最小的偶数因子是2，所以x和y都是>=2的偶数。

#include <stdio.h>
int main(){
	int x,y;
	for(x=2; x<168/2+1; x+=2){
		if(168%x !=0){ continue; }
		y=168/x;
		if(y%2!=0){ continue;}
		
		int p=(y-x)/2, t=(y+x)/2;
		if(p>t) {continue;}
		
		//printf("%d | x=%d, (%d**2), (%d**2)\n", x, p*p-100, p, t);
		printf("(%d) | %d + 100 = %d * %d\n", x, p*p-100, p, p);
		printf("(%d) | %d + 268 = %d * %d\n", x, p*p-100, t, t);
	}
}

输出: 两行为单位，x的值共4个: 1581/261/21/-99
(2) | 1581 + 100 = 41 * 41
(2) | 1581 + 268 = 43 * 43
(4) | 261 + 100 = 19 * 19
(4) | 261 + 268 = 23 * 23
(6) | 21 + 100 = 11 * 11
(6) | 21 + 268 = 17 * 17
(12) | -99 + 100 = 1 * 1
(12) | -99 + 268 = 13 * 13
(14) | -99 + 100 = -1 * -1
(14) | -99 + 268 = 13 * 13
(28) | 21 + 100 = -11 * -11
(28) | 21 + 268 = 17 * 17
(42) | 261 + 100 = -19 * -19
(42) | 261 + 268 = 23 * 23
(84) | 1581 + 100 = -41 * -41
(84) | 1581 + 268 = 43 * 43







4. 题目：输入某年某月某日，判断这一天是这一年的第几天？
难度：**

分析：
先看这个月之前有几天，在加上本月的。
二月需要判断是否闰年。

程序设计：数组结构保存每月的天数。

#include<stdio.h>
int main(){
	int year, month, day, i, sumDay=0;
	printf("please input year, month, day, eg: 2021/3/15\n");
	scanf("%d/%d/%d", &year, &month, &day);
	//计算天数
	int days[12]={31,0, 31,30,31,30,31,31,30,31,30,31};
	days[1]= ((year%400==0) || (year%100!=0 && year%4==0))?29:28; //二月
	//之前的月份天数累加：当前3月，则前面2个月就是0,1
	for(i=0; i<month-1; i++){
		sumDay+=days[i];
	}
	sumDay+=day; //加上当月的天数
	printf("%d年%d月%d日是今年的第%d天\n", year, month, day, sumDay);
}

$ ./a.out 
please input year, month, day, eg: 2021/3/15
2021/3/5
2021年3月5日是今年的第64天

2015年10月1日是今年的第274天







5. 题目：输入三个整数x,y,z，请把这三个数由小到大输出。
难度：*


分析：排序，输出。

#include<stdio.h>
int main(){
	int a[3];
	printf("please input 3 numbers, separated by comma\n");
	scanf("%d,%d,%d", &a[0], &a[1], &a[2]);
	//排序
	int i,j;
	for(i=0; i<3; i++){
		for(j=i+1; j<3; j++){
			printf("==>i=%d, j=%d\n", i,j);
			if(a[i]>a[j]){
				int t=a[i];
				a[i]=a[j];
				a[j]=t;
			}
		}
	}
	//输出
	for(i=0; i<3; i++)
			printf("%d ", a[i]);
	printf("\n");
	return 0;
}

$ ./a.out 
please input 3 numbers, separated by comma
20,-10,300
==>i=0, j=1
==>i=0, j=2
==>i=1, j=2
-10 20 300 

其实一共比较了三次。
x,y 保证x小
x,z 保证x最小
y,z 保证y中间，z最大







6. 题目：用*号输出字母C的图案。
难度：简单

需要多大的相似度？
****
*
*
****

printf(" ****\n");
printf(" *\n");
printf(" *\n");
printf(" ****\n");







7.题目：古典问题（兔子生崽）：有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第三个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少？（输出前40个月即可）

程序分析：兔子的规律为数列1,1,2,3,5,8,13,21....，即下个月是上两个月之和（从第三个月开始）。

难度：**** 用到递归


#include<stdio.h>
static long arr[41]={0, 1,1,2};

long fib(int n){
	if(arr[n]!=0){
		return arr[n];
	}
	return fib(n-1)+fib(n-2);
}

int main(){
	int i=0;
	for(i=1; i<=40; i++){
		arr[i]=fib(i);
		printf("arr[%d]=%ld\n", i, arr[i]);
	}
	return 0;
}

输出:
arr[1]=1
arr[2]=1 
arr[3]=2 
arr[4]=3 
arr[5]=5 
arr[6]=8 
arr[7]=13 
arr[8]=21 
arr[9]=34
...
arr[36]=14930352
arr[37]=24157817
arr[38]=39088169
arr[39]=63245986
arr[40]=102334155












8. 题目：输出9*9口诀。
难度:*

#include<stdio.h>
int main(){
	int i,j;
	for(i=1; i<10; i++){
		for(j=1; j<=i; j++){
			//printf("%d*%d=%d\t", i,j,i*j);
			printf("%d*%d=%-3d",j,i,i*j); /*-3d表示左对齐，占3位*/
		}
		printf("\n");
	}
}

$ ./a.out 
1*1=1
1*2=2   2*2=4
1*3=3   2*3=6   3*3=9
1*4=4   2*4=8   3*4=12  4*4=16
1*5=5   2*5=10  3*5=15  4*5=20  5*5=25
1*6=6   2*6=12  3*6=18  4*6=24  5*6=30  6*6=36
1*7=7   2*7=14  3*7=21  4*7=28  5*7=35  6*7=42  7*7=49
1*8=8   2*8=16  3*8=24  4*8=32  5*8=40  6*8=48  7*8=56  8*8=64
1*9=9   2*9=18  3*9=27  4*9=36  5*9=45  6*9=54  7*9=63  8*9=72  9*9=81











9. 题目：判断101到200之间的素数。

程序分析：判断素数的方法：用一个数分别去除2到sqrt(这个数)，如果能被整除， 则表明此数不是素数，反之是素数。

#include<stdio.h>
#include <math.h>
int main(){
	int i, j, flag, n=1;
	for(i=101; i<200; i++){
		flag=1;
		for(j=2; j<i; j++){
			if(i % j ==0){
				flag=0;
				break;
			}
		}
		if(1==flag){
			printf("%d\t", i);
			n++;
			if(n%5==0) 
				printf("\n");
		}
	}
	printf("\n");
	return 0;
}

输出：
101     103     107     109     113
127     131     137     139     149
151     157     163     167     173
179     181     191     193     197
199






10. 水仙花数
题目：打印出所有的"水仙花数"，所谓"水仙花数"是指一个三位数，其各位数字立方和等于该数 本身。
例如：153是一个"水仙花数"，因为153=1的三次方＋5的三次方＋3的三次方。

难度：** 
知识点：整除

#include<stdio.h>
int cubic(int a){
	return a*a*a;
}
int main(){
	int i;
	for(i=100; i<=999; i++){
		int a,b,c;
		//a=i/100; //百位
		//b=i/10 - 10*a; //十位
		//c=i-10*b-100*a; //个位
		
		a=i%10; //个位
        b=i/10%10; //十位
        c=i/100%10; //百位
		
		if( i == cubic(a)+cubic(b)+cubic(c) ){
			printf("%d\t", i);
		}
	}
	printf("\n");
}

输出:
153	370	371	407









========================================
练习题 组2
(n=10)
----------------------------------------

11. 将一个正整数分解质因数
题目：将一个正整数分解质因数。例如：输入90,打印出90=2*3*3*5。

难度： *****

分析：怎么分解？怎么保证质数？
先给出质数列表
然后依次对质数列表求余数，如果余数为0，则循环，然后下一个质数。

比如第一个质数 2
90/2=45 余数0
45/2 余数不是0，则下一个质数 3
45/3=15
15/3=5
5/3 余数不是0，则下一个质数 5
5/5=1 余数是0，结果是1，则结束。
输出中间结果 90=2*3*3*5

#include<stdio.h>
#include<math.h>
// is return 0; not return -1;
int isPrimer(int x){
	if(x<=0){
		printf("Error: please ensure x>0 !\n");
		return -1;
	}
	for(int i=2; i< (sqrt(x)+1); i++){
		if(x%i == 0){
			return -1;
		}
	}
	return 0;
}

int getNextPrimer(int x){
	while(1){
		x++;
		if(0==isPrimer(x)){
			return x;
		}
	}
}

int main(){
	int num;
	printf("please input a number:");
	scanf("%d", &num);
	printf("%d=", num);
	
	int primer=2; //质数
	while(num != 1){ //商
		int resid = num % primer; //余数
		while(resid==0){
			printf("%d", primer);
			num=num/primer;
			resid = num % primer;
			if(num!=1)
				printf("*");
		}
		primer=getNextPrimer(primer); //获取下一个质数
	}
	printf("\n");
	return 0;
}


在gcc下用到数学函数，如sqrt。在gcc时要加上 -lm 参数，这样告诉编译器我要用到数学函数了 。
gcc a.c -o a -lm


$ ./a.out 
please input a number:90
90=2*3*3*5

$ ./a.out
please input a number:945
945=3*3*3*5*7




(2) 更简练版本
程序分析：对n进行分解质因数，应先找到一个最小的质数k，然后按下述步骤完成：
1)如果这个质数恰等于（小于的时候，继续执行循环）n，则说明分解质因数的过程已经结束，另外 打印出即可。
2)但n能被k整除，则应打印出k的值，并用n除以k的商,作为新的正整数n.重复执行第二步。
3)如果n不能被k整除，则用k+1作为k的值,重复执行第一步。

#include<stdio.h>
int main()
{
    int n,i;
    printf("请输入整数：");
    scanf("%d",&n);
	
    printf("%d=",n);
    for(i=2;i<=n;i++) //如果除以2的余数不为0，则除以4的余数更不会是0。
    {
        while(n%i==0) //如果余数为0，则继续除
        {
            printf("%d",i);
            n/=i;  //更新n
            if(n!=1) printf("*");
        }
    }
    
    printf("\n");
    return 0;
}







12. 题目：利用条件运算符的嵌套来完成此题：学习成绩>=90分的同学用A表示，60-89分之间的用B表示，60分以下的用C表示。
难度：* 

#include<stdio.h>
int main(){
	int x;
	printf("请输入分数： ");
	scanf("%d", &x);
	char grade=x>=90?'A':( x<60?'C':'B' );
	printf("score:%d, grade:%c\n", x, grade);
	return 0;
}






13. 最大公约数和最小公倍数
题目：输入两个正整数m和n，求其最大公约数和最小公倍数。

难度：*** 
难点：数学原理 辗转相除法。

程序分析：
（1）最小公倍数=输入的两个数之积除于它们的最大公约数，关键是求出最大公约数；
（2）求最大公约数用辗转相除法（又名欧几里德算法）

1）证明：设c是a和b的最大公约数，记为c=gcd(a,b),a>=b,
令r=a mod b
设a=kc，b=jc，则k，j互素，否则c不是最大公约数
据上，r=a-mb=kc-mjc=(k-mj)c
可知r也是c的倍数，且k-mj与j互素，否则与前述k，j互素矛盾,
由此可知，b与r的最大公约数也是c，即gcd(a,b)=gcd(b,a mod b)，得证。

2）算法描述：
第一步：a ÷ b，令r为所得余数 0≤r 
第二步：互换：置 a←b，b←r，并返回第一步。

#include<stdio.h>
int main(){
	int a,b, c;
	printf("input 2 numer, separate by blank:\n");
	scanf("%d %d", &a, &b);
	
	c=a*b;
	printf("(%d,%d)的最大公约数是", a,b);
	
	
	if(a<b){
		int t=a;
		a=b;
		b=t;
	}
	
	int r=a%b;
	while( 0 != r ){
		a=b;
		b=r;
		r=a%b;
	}
	printf("最大公约数是%d, 最小公倍数是%d\n", b, c/b);
}



$ ./a.out
input 2 numer, separate by blank:
16 10
(16,10)的最大公约数是最大公约数是 2, 最小公倍数是 80

(12,26)的最大公约数是最大公约数是 2, 最小公倍数是 156







14.题目：输入一行字符，分别统计出其中英文字母、空格、数字和其它字符的个数。
难度：*
要点：ascii码与字符的对应

分析： 
英文字母：大小写
空格：
数字：
其他：

//失败，scanf遇到空格会停止
#include<stdio.h>
int main(){
	char str[20];
	scanf("%s", str);
	
	printf("%s\n", str);
}


#include<stdio.h>
int main(){
	char c;
	int letter=0, blank=0, digits=0, other=0;
	while( (c=getchar())!='\n' ){
		if( (c>='a' && c<='z') || (c>='A' && c<='Z') ){
			letter++;
		}else if( c>='0' && c<='9' ){
			digits++;
		}else if( ' '==c ){
			blank++;
		}else
			other++;
	}
	
	printf("字符统计: \n 字母: %d\n 数字: %d\n 空格: %d\n 其他:%d\n", letter, digits, blank, other);
}

输出：
$ ./a.out
this is an book. That is 2 PCs!
字符统计: 
 字母: 21
 数字: 1
 空格: 7
 其他:2









15. 题目：求s=a+aa+aaa+aaaa+aa...a的值，其中a是一个数字。例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加有键盘控制。

难度：***
难点：中间数据怎么保存？不保存!

分析： 
输入2个数字，第一个数字是a，第二个数字是n个。
使用指针，动态获取内存。


#include<stdio.h>
int getNum(int a, int n){
	int num=a;
	while(--n >0){
		num*=10;
		num+=a;
	}
	return num;
}

int main(){
	int a, n, i, sum=0;
	printf("input 2 number a and n, separate by blank\n");
	scanf("%d %d", &a, &n);
	
	for(i=1; i<=n; i++){
		int tmp=getNum(a, i);
		printf("%d\t", tmp);
		sum+=tmp;
	}
	printf(", sum is %d\n", sum);
	return 0;
}

$ ./a.out
input 2 number a and n, separate by blank
2 5
2	22	222	2222	22222	, sum is 24690








16. 题目：一个数如果恰好等于它的因子之和，这个数就称为"完数"。例如6=1＋2＋3.编程找出1000以内的所有完数。

分析： 因子，只要能整除就算。
看例子，包括1，不包括自己。

#include<stdio.h>
int main(){
	int i,j, sum;
	for(i=1; i<=1000; i++){
		sum=0;
		for(j=1; j<i; j++){
			if(i%j==0){
				sum+=j;
			}
		}
		if(sum==i){
			printf("%d\t", i);
		}
	}
	printf("\n");
	return 0;
}

输出:
6	28	496

一万以内的还能再多一个
6	28	496	8128











17.题目：一球从100米高度自由落下，每次落地后反跳回原高度的一半；再落下，求它在第10次落地时，共经过多少米？第10次反弹多高？
难度：**

分析：
第一次落地时经过h=100米，反弹h/2=50米，
第二次落地时又经过 50*2米，反弹 h/2**2 = 25米，
第三次落地时又经过 25*2米，反弹 h/2**3 = 12.5米，
第n次落地时又经过 h/2**(n-1) *2米，反弹 h/2**n 米。

#include<stdio.h>
int main(){
	float h=100, sum=h;
	int i=0;
	h/=2;
	for(i=2; i<=10; i++){
		sum+= h *2;
		h /= 2;
	}
	printf("共经过 %3.2f 米， 第十次反弹高度 %f 米\n", sum, h);
	return 0;
}

输出：
共经过 299.61 米， 第十次反弹高度 0.097656 米









18.题目：猴子吃桃问题：猴子第一天摘下若干个桃子，当即吃了一半，还不瘾，又多吃了一个；第二天早上又将剩下的桃子吃掉一半，又多吃了一个。以后每天早上都吃了前一天剩下的一半零一个。到第10天早上想再吃时，见只剩下一个桃子了。求第一天共摘了多少。

难度：**
第10天，吃前剩下1个；
第9天，吃前剩下 (1+1)*2=4
第8天，吃前剩下 (4+1)*2=10个
...
第1天，吃前剩下 (n+1)*2 个 


#include<stdio.h>
int main(){
	int i=10, sum=1;
	printf("第 %d 天，吃前剩下 %d 个\n", i, sum);
	for(i=9; i>0; i--){
		sum=(sum+1)*2;
		printf("第 %d 天，吃前剩下 %d 个\n", i, sum);
	}
	return 0;
}

输出: 
$ ./a.out 
第 10 天，吃前剩下 1 个
第 9 天，吃前剩下 4 个
第 8 天，吃前剩下 10 个
第 7 天，吃前剩下 22 个
第 6 天，吃前剩下 46 个
第 5 天，吃前剩下 94 个
第 4 天，吃前剩下 190 个
第 3 天，吃前剩下 382 个
第 2 天，吃前剩下 766 个
第 1 天，吃前剩下 1534 个



问题: 上述代码中出现重复行，怎么优化掉？
#include<stdio.h>
int main(){
	int i=10, sum=1;
	for(i=10; i>0; i--){
		printf("第 %d 天，吃前剩下 %d 个\n", i, sum);
		sum=(sum+1)*2;
	}
	return 0;
}







19.题目：两个乒乓球队进行比赛，各出三人。甲队为a,b,c三人，乙队为x,y,z三人。已抽签决定比赛名单。有人向队员打听比赛的名单。a说他不和x比，c说他不和x,z比，请编程序找出三队赛手的名单。

难度：***

分析：甲 a,b,c，乙 x,y,z
已知：
a not x 
c not x, not z
则 c-y, b-x, a-z;

这个貌似分析完就已经是最终结果了。
写代码的意义是什么？

//失败，结果不能输出我们推测的结果。
#include<stdio.h>
int main(){
	char g1[3]={'a', 'b', 'c'};
	char g2[3]={'x', 'y', 'z'};
	int i,j;
	for(i=0; i<3; i++){
		char c1=g1[i];
		for(j=0; j<3; j++){
			char c2=g2[j];
			if(c1=='a' && c2=='x') continue;
			if(c1=='c' && (c2=='x' || c2=='z') ) continue;
			printf("%c vs %c\n", c1, c2);
		}
	}
	return 0;
}

输出不对： 
a vs y
a vs z
b vs x
b vs y
b vs z
c vs y



## 看别人的答案：
a,b,c 固定，看怎么放x,y,z 

#include<stdio.h>
int main(){
	int i,j, k;
	for(i='x'; i<='z'; i++){
		for(j='x'; j<='z'; j++){
			if(i==j) continue; //保证不能重复
			for(k='x'; k<='z'; k++){
				if(i==k || j==k) continue; //保证不能重复
				//保证满足条件
				if(i=='x') continue;
				if(k=='x' || k=='z') continue;
				printf("a-%c, b-%c, c-%c\n", i,j,k);
				
			}
		}
	}
	return 0;
}

输出：a-z, b-x, c-y









20. 题目：打印出如下图案（菱形）。

   *
  ***
 *****
*******
 *****
  ***
   *
难度：***

分析：要分上下两部分。
程序分析：先把图形分成两部分来看待，前四行一个规律，后三行一个规律，利用双重for循环，第一层控制行，第二层控制列。

上面是4行7列，
第1行，3个空格，1个星号；
第2行，2个空格，3个星号；
第3行，1个空格，5个星号；
第4行，0个空格，7个星号；

#include<stdio.h>
int main(){
	int i,j;
	for(i=0; i<5; i++){
		for(j=0; j<5-i; j++){
			printf(" ");
		}
		for(j=0; j< (2*i-1) ; j++){
			printf("*");
		}
		printf("\n");
	}
	//下半部分
	for(i=3; i>=0; i--){
		for(j=0; j<5-i; j++){
			printf(" ");
		}
		for(j=0; j< (2*i-1) ; j++){
			printf("*");
		}
		printf("\n");
	}
}








========================================
练习题 组3
(n=10)
----------------------------------------

21. 题目：有一分数序列：2/1，3/2，5/3，8/5，13/8，21/13...求出这个数列的前20项之和。

分析：fib数列

难度：**

#include<stdio.h>
static int arr[30]={1, 1,2,3,5,8,13, 21};

int fib(int n){
	if( 0 != arr[n] ){
		return arr[n];
	}
	return fib(n-1)+fib(n-2);
}

int main(){
	int i=0;
	for(i=5; i<23; i++){
		arr[i]=fib(i);
	}
	
	float sum=0;
	for(i=1; i<=20; i++){
		sum+= (float)arr[i+1]/(float)arr[i];
		printf("i=%d, %d/%d,  sum=%f\n", i, arr[i+1], arr[i], sum);
	}
	return 0;
}

输出： 
i=20, 17711/10946,  sum=32.660263










进度：ex24














========================================
基于点阵的文字输出：多分辨率、多字符(大小写、数字、特殊符号)
----------------------------------------
1. 输出液晶状态的阿拉伯数字(5*3 最小分辨率)

难度：*****
难点：多维数组、指针操作数组、返回指针的函数、动态分配内存。

#include<stdio.h>
#include<stdlib.h>
//数字点阵
int digits[10][5][3] = { 
		{ {1,1,1},{1,0,1},{1,0,1},{1,0,1},{1,1,1} }, //0
		{ {0,1,0},{1,1,0},{0,1,0},{0,1,0},{1,1,1} }, //1
		{ {1,1,1},{0,0,1},{1,1,1},{1,0,0},{1,1,1} }, //2
		{ {1,1,1},{0,0,1},{1,1,1},{0,0,1},{1,1,1} }, //3
		{ {1,0,1},{1,0,1},{1,1,1},{0,0,1},{0,0,1} }, //4
		{ {1,1,1},{1,0,0},{1,1,1},{0,0,1},{1,1,1} }, //5
		{ {1,1,1},{1,0,0},{1,1,1},{1,0,1},{1,1,1} }, //6
		{ {1,1,1},{0,0,1},{0,0,1},{0,0,1},{0,0,1} }, //7
		{ {1,1,1},{1,0,1},{1,1,1},{1,0,1},{1,1,1} }, //8
		{ {1,1,1},{1,0,1},{1,1,1},{0,0,1},{1,1,1} } //9
	};

//输入字符矩阵，打印
void printDigits(int *ptr, int nRow, int nCol){
	int i,j;
	for(i=0; i<nRow; i++){
		for(j=0; j<nCol; j++){
			char c = (0==*ptr)?' ':'*';
			printf("%c", c);
			ptr++;
		}
		printf("\n");
	}
}

//合并几个数字的点阵，间距是2列0.
int *combineDigits(int number, int spacer){
	//根据输入的数的长度，倒解连环
	int i=0, x[10], res;
	while(1){
		res=number % 10;
		x[i]=res;
		i++;
		number/=10;
		
		if(number<10){
			x[i]=number;
			break;
		}
	}
	//数组倒置
	for(int j=0; j< (i+1)/2; j++){
		int tmp=x[j], j2=i-j;
		x[j]=x[j2];
		x[j2]=tmp;
	}
	//逐个打印数组
	for(int j=0; j<=i; j++){
		printf("%d ", x[j]);
	}
	printf("\n");
	
	int n=i+1, nCol= 3*n+spacer*(n-1);
	//这个要注意返回的是最初的指针，而循环中指针一直在向后偏移。
	int *ptr0=malloc( sizeof(int)*5*nCol ), *ptr; 
	ptr=ptr0;
	for(int i=0; i<5; i++){
		for(int j=0; j<nCol; j++){
			int cur=x[j/(3+spacer)];
			
			int *digit= (int *)digits[cur];
			int r=j%(3+spacer);
			if( r<=2 ){
				*ptr=digit[i*3+r];
			}else{
				*ptr=0;
			}
			ptr++;
		}
	}
	return ptr0;
}


int main(int argc, char *argv[]){
	if(argc<2){
		printf("please provide a number [0, 9]\n");
		return 1;
	}
	//获取输入字符串，转为整数
	int num=atoi(argv[1]);
	printf("%d\n", num);
	
	if(num<0){
		printf("Error: x>=0\n");
		return 1;
	}else if(num<10){
		printDigits( (int *)digits[num], 5, 3 ); //传递参数时，要做指针类型转换
	}else if(num<1000*1000*1000){
		//2位到9位之间的
		int spacer=2;
		int *ptr=combineDigits(num, spacer);
		
		int n=0;
		while(num){
			n++;
			num/=10;
		}
		int nCol= 3*n+spacer*(n-1);
		printDigits( (int *)ptr, 5, nCol );
		free(ptr);
	}else{
		printf("Error: x<1e9\n");
		return 1;
	}
	return 0;
}


测试：
$ ./a.out 314649593
314649593
3 1 4 6 4 9 5 9 3 
***   *   * *  ***  * *  ***  ***  ***  ***
  *  **   * *  *    * *  * *  *    * *    *
***   *   ***  ***  ***  ***  ***  ***  ***
  *   *     *  * *    *    *    *    *    *
***  ***    *  ***    *  ***  ***  ***  ***

$ ./a.out 20210728
20210728
2 0 2 1 0 7 2 8 
***  ***  ***   *   ***  ***  ***  ***
  *  * *    *  **   * *    *    *  * *
***  * *  ***   *   * *    *  ***  ***
*    * *  *     *   * *    *  *    * *
***  ***  ***  ***  ***    *  ***  ***




改进：//todo
怎么增大分辨率？
怎么加入字母点阵?













### 剩下的在Ubuntu无法打印

1.题目：输出特殊图案，请在c环境中运行，看一看，Very Beautiful!
# 运行失败，跳过
程序分析：字符共有256个。不同字符，图形不一样。

#include<stdio.h>
int main()
{
    char a=176,b=219;
    printf("%c%c%c%c%c\n",b,a,a,a,b);
    printf("%c%c%c%c%c\n",a,b,a,b,a);
    printf("%c%c%c%c%c\n",a,a,b,a,a);
    printf("%c%c%c%c%c\n",a,b,a,b,a);
    printf("%c%c%c%c%c\n",b,a,a,a,b);
    return 0;
}


输出 字符。结果不好，跳过。
#include<stdio.h>
int main(){
	int i;
	char c;
    for(i=0; i<256; i++){
		printf("(%d)%c\t", i, i );
		if(i%16==0)
			printf("\n");
	}
	printf("\n");
	return 0;
}





9.题目：要求输出国际象棋棋盘。
# 效果不好，跳过。以后符号输出的都跳过
程序分析：国际象棋棋盘由64个黑白相间的格子组成，分为8行*8列。用i控制行，j来控制列，根据i+j的和的变化来控制输出黑方格，还是白方格。

#include<stdio.h>
int main(){
    int i,j;
    for(i=0;i<8;i++)
    {
        for(j=0;j<8;j++)
            if((i+j)%2==0)
                printf("%c%c",219,219);
            else printf("  ");
        printf("\n");
    }
    return 0;
}








========================================
----------------------------------------




========================================
----------------------------------------




========================================
----------------------------------------




========================================
----------------------------------------




========================================
----------------------------------------




========================================
----------------------------------------




========================================
----------------------------------------


