<div class='content'>
	<h2>php魔术方法</h2>
	<ul>
		<li>__get和__set</li>
	</ul>
	
	

	<h2>__get和__set</h2>
<pre>
/*
在PHP5中，预定义了两个函数“__get()”和“__set()”来获取和赋值其属性，对每个字段进行set和get的操作。只需要加上两个魔术方法即可
*/
class Person{
	private $name;
	private $age;
	private $sex;
	private $height;
	
	public $info='this is a msg';
	
	//__set()方法用来设置私有属性 
	public function __set($property_name,$value){ 
		$this->$property_name = $value; 
	}
	//__get()方法用来获取私有属性 
	public function __get($property_name){ 
		if(isset($this->$property_name)){
			return($this->$property_name); 
		}else{ 
			return(NULL); 
		}
	}
}

//echo Person::class;die();

$p=new Person();
echo $p->info;
//$p->getRequest();

//直接设置属性
$p->name='Dawn';
<b class=red>$p->height=200;</b>

//获取属性
echo $p->name;
echo $p->height;
echo $p->sex;
//以上代码如果不加上__get()和__set()方法，程序就会出错，因为不能在类的外部操作私有成员，而上面的代码是通过自动调用__get()和__set()方法来帮助我们直接存取封装的私有成员的。
</pre>
	
	<h2>__call(//$a->getB();//获取 A::$b 属性)</h2>
<pre>
<i>/*
public mixed __call ( string $name , array $arguments )
public static mixed __callStatic ( string $name , array $arguments )
在对象中调用一个不可访问方法时，__call() 会被调用。 

用静态方式中调用一个不可访问方法时，__callStatic() 会被调用。 

$name 参数是要调用的方法名称。$arguments 参数是一个枚举数组，包含着要传递给方法 $name 的参数。 
*/</i>

class A{
	public $name='dawn';
	public $age=100;
	
	<b>public function __call($name,$para='')</b>{
		$keyword=explode('get',$name)[1];
		return $this->get( strtolower($keyword) );	
		//return self::get( strtolower($keyword) );	
	}
	
	//使用魔术方法
	public function get($para){
		return $this->$para;
	}	
}


$a=new A();
//echo $a->get('name');
<b class="red">echo $a->getName();</b> //$a->getB();//获取 A::$b 属性
echo $a->getAge();

//http://tieba.baidu.com/p/4316562130?pid=82821666717&cid=0#82821666717
</pre>
	
	
<pre>
本文首次添加：17:30 2016/1/22

</pre>
</div>
